<div>
  <a [routerLink]="['../login']">Ir a inicio de sesi&oacute;n</a>
  <mat-card>
    <mat-card-title>Crear mi cuenta</mat-card-title>

    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="register()">

        <mat-form-field>
          <input type="email" matInput placeholder="Correo electronico" formControlName="email">
          <!-- Here we can display error messages/hints for the user, if one of the Validators adds an error to the email 
           with the .touched check we only display the hints if the input was touched by the users -->
          <mat-error
            *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('required')">
            El correo electronico es requerido</mat-error>
          <mat-error
            *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('email')">
            El correo electronico debe ser v&aacute;lido</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="text" matInput placeholder="Usuario" formControlName="username">
          <mat-error
            *ngIf="this.registerForm.get('username')?.touched && this.registerForm.get('username')?.hasError('required')">
            El usuario es requerido</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="text" matInput placeholder="Nombre(s)" formControlName="firstname">
          <mat-error
            *ngIf="this.registerForm.get('firstname')?.touched && this.registerForm.get('firstname')?.hasError('required')">
            El nombre es requerido</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="text" matInput placeholder="Apellido(s)" formControlName="lastname">
          <mat-error
            *ngIf="this.registerForm.get('lastname')?.touched && this.registerForm.get('lastname')?.hasError('required')">
            El apellido es requerido</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="password" matInput placeholder="Contraseña" formControlName="password">
          <mat-error
            *ngIf="this.registerForm.get('password')?.touched && this.registerForm.get('password')?.hasError('required')">
            La contraseña es requerida</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="password" matInput placeholder="Password Confirmation" formControlName="passwordConfirm">
          <mat-error
            *ngIf="this.registerForm.get('passwordConfirm')?.touched && this.registerForm.get('passwordConfirm')?.hasError('required')">
            La confirmación de tu contraseña es requerida</mat-error>
        </mat-form-field>

        <mat-error
          *ngIf="this.registerForm.get('passwordConfirm')?.dirty && this.registerForm.hasError('passwordsNotMatching')">
          Tus contraseñas no son iguales!</mat-error>

        <div class="button">
          <button type="submit" mat-button [disabled]="!registerForm.valid">Registrarme</button>
        </div>

      </form>
    </mat-card-content>

  </mat-card>
</div>